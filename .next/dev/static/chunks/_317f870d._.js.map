{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///E:/health-performance-dashboard/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,yKAAO,EAAC,IAAA,gJAAI,EAAC;AACtB"}},
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///E:/health-performance-dashboard/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\n        secondary:\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost:\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\n        icon: 'size-9',\n        'icon-sm': 'size-8',\n        'icon-lg': 'size-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'button'> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : 'button'\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,0KAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,2KAAI,GAAG;IAE9B,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf;KAnBS"}},
    {"offset": {"line": 87, "column": 0}, "map": {"version":3,"sources":["file:///E:/health-performance-dashboard/components/ui/dropdown-menu.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as DropdownMenuPrimitive from '@radix-ui/react-dropdown-menu'\nimport { CheckIcon, ChevronRightIcon, CircleIcon } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nfunction DropdownMenu({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Root>) {\n  return <DropdownMenuPrimitive.Root data-slot=\"dropdown-menu\" {...props} />\n}\n\nfunction DropdownMenuPortal({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Portal>) {\n  return (\n    <DropdownMenuPrimitive.Portal data-slot=\"dropdown-menu-portal\" {...props} />\n  )\n}\n\nfunction DropdownMenuTrigger({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Trigger>) {\n  return (\n    <DropdownMenuPrimitive.Trigger\n      data-slot=\"dropdown-menu-trigger\"\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuContent({\n  className,\n  sideOffset = 4,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Content>) {\n  return (\n    <DropdownMenuPrimitive.Portal>\n      <DropdownMenuPrimitive.Content\n        data-slot=\"dropdown-menu-content\"\n        sideOffset={sideOffset}\n        className={cn(\n          'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md',\n          className,\n        )}\n        {...props}\n      />\n    </DropdownMenuPrimitive.Portal>\n  )\n}\n\nfunction DropdownMenuGroup({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Group>) {\n  return (\n    <DropdownMenuPrimitive.Group data-slot=\"dropdown-menu-group\" {...props} />\n  )\n}\n\nfunction DropdownMenuItem({\n  className,\n  inset,\n  variant = 'default',\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Item> & {\n  inset?: boolean\n  variant?: 'default' | 'destructive'\n}) {\n  return (\n    <DropdownMenuPrimitive.Item\n      data-slot=\"dropdown-menu-item\"\n      data-inset={inset}\n      data-variant={variant}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuCheckboxItem({\n  className,\n  children,\n  checked,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.CheckboxItem>) {\n  return (\n    <DropdownMenuPrimitive.CheckboxItem\n      data-slot=\"dropdown-menu-checkbox-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      checked={checked}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <DropdownMenuPrimitive.ItemIndicator>\n          <CheckIcon className=\"size-4\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.CheckboxItem>\n  )\n}\n\nfunction DropdownMenuRadioGroup({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioGroup>) {\n  return (\n    <DropdownMenuPrimitive.RadioGroup\n      data-slot=\"dropdown-menu-radio-group\"\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuRadioItem({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioItem>) {\n  return (\n    <DropdownMenuPrimitive.RadioItem\n      data-slot=\"dropdown-menu-radio-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <DropdownMenuPrimitive.ItemIndicator>\n          <CircleIcon className=\"size-2 fill-current\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.RadioItem>\n  )\n}\n\nfunction DropdownMenuLabel({\n  className,\n  inset,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Label> & {\n  inset?: boolean\n}) {\n  return (\n    <DropdownMenuPrimitive.Label\n      data-slot=\"dropdown-menu-label\"\n      data-inset={inset}\n      className={cn(\n        'px-2 py-1.5 text-sm font-medium data-[inset]:pl-8',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Separator>) {\n  return (\n    <DropdownMenuPrimitive.Separator\n      data-slot=\"dropdown-menu-separator\"\n      className={cn('bg-border -mx-1 my-1 h-px', className)}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuShortcut({\n  className,\n  ...props\n}: React.ComponentProps<'span'>) {\n  return (\n    <span\n      data-slot=\"dropdown-menu-shortcut\"\n      className={cn(\n        'text-muted-foreground ml-auto text-xs tracking-widest',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuSub({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Sub>) {\n  return <DropdownMenuPrimitive.Sub data-slot=\"dropdown-menu-sub\" {...props} />\n}\n\nfunction DropdownMenuSubTrigger({\n  className,\n  inset,\n  children,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubTrigger> & {\n  inset?: boolean\n}) {\n  return (\n    <DropdownMenuPrimitive.SubTrigger\n      data-slot=\"dropdown-menu-sub-trigger\"\n      data-inset={inset}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronRightIcon className=\"ml-auto size-4\" />\n    </DropdownMenuPrimitive.SubTrigger>\n  )\n}\n\nfunction DropdownMenuSubContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubContent>) {\n  return (\n    <DropdownMenuPrimitive.SubContent\n      data-slot=\"dropdown-menu-sub-content\"\n      className={cn(\n        'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  DropdownMenu,\n  DropdownMenuPortal,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuLabel,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioGroup,\n  DropdownMenuRadioItem,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuSub,\n  DropdownMenuSubTrigger,\n  DropdownMenuSubContent,\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 396, "column": 0}, "map": {"version":3,"sources":["file:///E:/health-performance-dashboard/components/sidebar.tsx"],"sourcesContent":["\"use client\"\n\nimport { useAuth } from \"@/lib/auth-context\"\nimport { useRouter, usePathname } from \"next/navigation\"\nimport { Button } from \"@/components/ui/button\"\nimport { DropdownMenu, DropdownMenuContent, DropdownMenuItem, DropdownMenuTrigger } from \"@/components/ui/dropdown-menu\"\nimport {\n  LayoutDashboard,\n  FileText,\n  BarChart3,\n  Settings,\n  Users,\n  LogOut,\n  ChevronDown,\n  Upload,\n  CheckSquare,\n  Menu,\n  X,\n} from \"lucide-react\"\nimport { useState } from \"react\"\n\nexport function Sidebar() {\n  const { user, logout, switchRole } = useAuth()\n  const router = useRouter()\n  const pathname = usePathname()\n  const [isMobileOpen, setIsMobileOpen] = useState(false)\n\n  if (!user) return null\n\n  const menuItems = {\n    hospital: [\n      { label: \"Dashboard\", icon: LayoutDashboard, href: \"/dashboard\" },\n      { label: \"Submit Data\", icon: FileText, href: \"/data/submit\" },\n      { label: \"Submit Scheme\", icon: FileText, href: \"/scheme/submit\" },\n      { label: \"My Uploads\", icon: Upload, href: \"/uploads\" },\n      { label: \"History\", icon: BarChart3, href: \"/analytics\" },\n    ],\n    district: [\n      { label: \"Dashboard\", icon: LayoutDashboard, href: \"/dashboard\" },\n      { label: \"Review Queue\", icon: CheckSquare, href: \"/review/queue\" },\n      { label: \"Facilities\", icon: Users, href: \"/facilities\" },\n      { label: \"Analytics\", icon: BarChart3, href: \"/analytics\" },\n    ],\n    state: [\n      { label: \"Dashboard\", icon: LayoutDashboard, href: \"/dashboard\" },\n      { label: \"District Comparison\", icon: BarChart3, href: \"/analytics\" },\n      { label: \"KPI Reports\", icon: FileText, href: \"/reports\" },\n    ],\n    admin: [\n      { label: \"Dashboard\", icon: LayoutDashboard, href: \"/dashboard\" },\n      { label: \"Users\", icon: Users, href: \"/admin/users\" },\n      { label: \"Facilities\", icon: Settings, href: \"/admin/facilities\" },\n      { label: \"System Logs\", icon: FileText, href: \"/logs\" },\n      { label: \"Analytics\", icon: BarChart3, href: \"/analytics\" },\n    ],\n  }\n\n  const currentMenu = menuItems[user.currentRole] || []\n\n  const handleNavigation = (href: string) => {\n    router.push(href)\n    setIsMobileOpen(false)\n  }\n\n  const isActive = (href: string) => pathname === href\n\n  return (\n    <>\n      <div className=\"md:hidden fixed top-0 left-0 right-0 bg-sidebar text-sidebar-foreground z-50 flex items-center justify-between px-4 py-3 border-b border-sidebar-border\">\n        <button\n          onClick={() => setIsMobileOpen(!isMobileOpen)}\n          className=\"p-2 rounded-lg hover:bg-sidebar-accent/20 transition-colors duration-200\"\n          aria-label=\"Toggle menu\"\n        >\n          {isMobileOpen ? <X className=\"w-5 h-5\" /> : <Menu className=\"w-5 h-5\" />}\n        </button>\n        <div className=\"flex items-center gap-2\">\n          <div className=\"w-6 h-6 bg-sidebar-accent rounded-lg flex items-center justify-center\">\n            <svg\n              className=\"w-4 h-4 text-sidebar-accent-foreground\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              viewBox=\"0 0 24 24\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M9 12l2 2 4-4m7 0a9 9 0 11-18 0 9 9 0 0118 0z\"\n              />\n            </svg>\n          </div>\n          <span className=\"font-bold text-sm\">HealthMetrics</span>\n        </div>\n        <div className=\"w-9\" />\n      </div>\n\n      {/* Mobile Overlay */}\n      {isMobileOpen && (\n        <div\n          className=\"fixed inset-0 bg-black/50 md:hidden z-40 transition-opacity duration-200\"\n          onClick={() => setIsMobileOpen(false)}\n        />\n      )}\n\n      {/* Sidebar */}\n      <aside\n        className={`fixed md:relative w-64 bg-sidebar text-sidebar-foreground border-r border-sidebar-border h-screen flex flex-col z-40 transition-all duration-300 transform md:transform-none md:mt-0 mt-16 ${\n          isMobileOpen ? \"translate-x-0\" : \"-translate-x-full md:translate-x-0\"\n        }`}\n      >\n        {/* Header */}\n        <div className=\"hidden md:block p-4 border-b border-sidebar-border hover:bg-sidebar-accent/5 transition-colors duration-200\">\n          <div className=\"flex items-center gap-2 mb-2 hover:scale-105 transition-transform duration-300\">\n            <div className=\"w-8 h-8 bg-sidebar-accent rounded-lg flex items-center justify-center hover:shadow-lg transition-all duration-300\">\n              <svg\n                className=\"w-5 h-5 text-sidebar-accent-foreground\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                viewBox=\"0 0 24 24\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth={2}\n                  d=\"M9 12l2 2 4-4m7 0a9 9 0 11-18 0 9 9 0 0118 0z\"\n                />\n              </svg>\n            </div>\n            <h1 className=\"text-lg font-bold\">HealthMetrics</h1>\n          </div>\n          <p className=\"text-xs text-sidebar-foreground/60\">Performance Data</p>\n        </div>\n\n        {/* User Info & Role Switcher */}\n        <div className=\"px-3 py-3 border-b border-sidebar-border hover:bg-sidebar-accent/5 transition-colors duration-200\">\n          <div className=\"bg-sidebar-accent/10 rounded-lg p-2.5 mb-2 hover:bg-sidebar-accent/20 transition-all duration-200\">\n            <p className=\"text-xs font-medium text-sidebar-foreground/70 mb-1\">Current Role</p>\n            <div className=\"flex items-center justify-between\">\n              <span className=\"text-sm font-semibold capitalize\">{user.currentRole}</span>\n              {user.roles.length > 1 && (\n                <DropdownMenu>\n                  <DropdownMenuTrigger asChild>\n                    <Button\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      className=\"h-5 px-1 text-sidebar-accent-foreground hover:bg-sidebar-accent/20 transition-all duration-200 btn-micro\"\n                    >\n                      <ChevronDown className=\"w-3 h-3\" />\n                    </Button>\n                  </DropdownMenuTrigger>\n                  <DropdownMenuContent align=\"end\" className=\"w-40\">\n                    {user.roles.map((role) => (\n                      <DropdownMenuItem\n                        key={role}\n                        onClick={() => switchRole(role)}\n                        className={`transition-all duration-150 cursor-pointer ${\n                          user.currentRole === role ? \"bg-accent/10\" : \"hover:bg-secondary/30\"\n                        }`}\n                      >\n                        {role.charAt(0).toUpperCase() + role.slice(1)}\n                      </DropdownMenuItem>\n                    ))}\n                  </DropdownMenuContent>\n                </DropdownMenu>\n              )}\n            </div>\n          </div>\n          <p className=\"text-xs text-sidebar-foreground/60 truncate\">{user.email}</p>\n        </div>\n\n        {/* Navigation */}\n        <nav className=\"flex-1 overflow-y-auto p-2 space-y-1.5\">\n          {currentMenu.map((item, idx) => (\n            <button\n              key={item.href}\n              onClick={() => handleNavigation(item.href)}\n              style={{ animationDelay: `${idx * 30}ms` }}\n              className={`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 btn-micro fade-in ${\n                isActive(item.href)\n                  ? \"bg-sidebar-accent text-sidebar-accent-foreground shadow-lg\"\n                  : \"text-sidebar-foreground/80 hover:bg-sidebar-accent/20 hover:text-sidebar-foreground active:scale-95\"\n              }`}\n            >\n              <item.icon className=\"w-5 h-5 md:w-4 md:h-4 flex-shrink-0\" />\n              <span>{item.label}</span>\n            </button>\n          ))}\n        </nav>\n\n        {/* Footer */}\n        <div className=\"p-2 border-t border-sidebar-border space-y-1.5\">\n          <Button\n            variant=\"outline\"\n            className=\"w-full justify-start text-sidebar-foreground border-sidebar-border hover:bg-sidebar-accent/10 bg-transparent transition-all duration-200 btn-micro text-sm py-2 h-auto\"\n            size=\"sm\"\n          >\n            <Settings className=\"w-4 h-4 mr-2 flex-shrink-0\" />\n            <span>Settings</span>\n          </Button>\n          <Button\n            variant=\"outline\"\n            onClick={logout}\n            className=\"w-full justify-start text-sidebar-foreground border-sidebar-border hover:bg-destructive/10 hover:text-destructive bg-transparent transition-all duration-200 btn-micro text-sm py-2 h-auto\"\n            size=\"sm\"\n          >\n            <LogOut className=\"w-4 h-4 mr-2 flex-shrink-0\" />\n            <span>Logout</span>\n          </Button>\n        </div>\n      </aside>\n    </>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAaA;;;AAnBA;;;;;;;AAqBO,SAAS;;IACd,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,UAAU,EAAE,GAAG,IAAA,qIAAO;IAC5C,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,WAAW,IAAA,oJAAW;IAC5B,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yKAAQ,EAAC;IAEjD,IAAI,CAAC,MAAM,OAAO;IAElB,MAAM,YAAY;QAChB,UAAU;YACR;gBAAE,OAAO;gBAAa,MAAM,kPAAe;gBAAE,MAAM;YAAa;YAChE;gBAAE,OAAO;gBAAe,MAAM,6NAAQ;gBAAE,MAAM;YAAe;YAC7D;gBAAE,OAAO;gBAAiB,MAAM,6NAAQ;gBAAE,MAAM;YAAiB;YACjE;gBAAE,OAAO;gBAAc,MAAM,mNAAM;gBAAE,MAAM;YAAW;YACtD;gBAAE,OAAO;gBAAW,MAAM,kOAAS;gBAAE,MAAM;YAAa;SACzD;QACD,UAAU;YACR;gBAAE,OAAO;gBAAa,MAAM,kPAAe;gBAAE,MAAM;YAAa;YAChE;gBAAE,OAAO;gBAAgB,MAAM,6OAAW;gBAAE,MAAM;YAAgB;YAClE;gBAAE,OAAO;gBAAc,MAAM,gNAAK;gBAAE,MAAM;YAAc;YACxD;gBAAE,OAAO;gBAAa,MAAM,kOAAS;gBAAE,MAAM;YAAa;SAC3D;QACD,OAAO;YACL;gBAAE,OAAO;gBAAa,MAAM,kPAAe;gBAAE,MAAM;YAAa;YAChE;gBAAE,OAAO;gBAAuB,MAAM,kOAAS;gBAAE,MAAM;YAAa;YACpE;gBAAE,OAAO;gBAAe,MAAM,6NAAQ;gBAAE,MAAM;YAAW;SAC1D;QACD,OAAO;YACL;gBAAE,OAAO;gBAAa,MAAM,kPAAe;gBAAE,MAAM;YAAa;YAChE;gBAAE,OAAO;gBAAS,MAAM,gNAAK;gBAAE,MAAM;YAAe;YACpD;gBAAE,OAAO;gBAAc,MAAM,yNAAQ;gBAAE,MAAM;YAAoB;YACjE;gBAAE,OAAO;gBAAe,MAAM,6NAAQ;gBAAE,MAAM;YAAQ;YACtD;gBAAE,OAAO;gBAAa,MAAM,kOAAS;gBAAE,MAAM;YAAa;SAC3D;IACH;IAEA,MAAM,cAAc,SAAS,CAAC,KAAK,WAAW,CAAC,IAAI,EAAE;IAErD,MAAM,mBAAmB,CAAC;QACxB,OAAO,IAAI,CAAC;QACZ,gBAAgB;IAClB;IAEA,MAAM,WAAW,CAAC,OAAiB,aAAa;IAEhD,qBACE;;0BACE,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBACC,SAAS,IAAM,gBAAgB,CAAC;wBAChC,WAAU;wBACV,cAAW;kCAEV,6BAAe,6LAAC,oMAAC;4BAAC,WAAU;;;;;iDAAe,6LAAC,6MAAI;4BAAC,WAAU;;;;;;;;;;;kCAE9D,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;0CACb,cAAA,6LAAC;oCACC,WAAU;oCACV,MAAK;oCACL,QAAO;oCACP,SAAQ;8CAER,cAAA,6LAAC;wCACC,eAAc;wCACd,gBAAe;wCACf,aAAa;wCACb,GAAE;;;;;;;;;;;;;;;;0CAIR,6LAAC;gCAAK,WAAU;0CAAoB;;;;;;;;;;;;kCAEtC,6LAAC;wBAAI,WAAU;;;;;;;;;;;;YAIhB,8BACC,6LAAC;gBACC,WAAU;gBACV,SAAS,IAAM,gBAAgB;;;;;;0BAKnC,6LAAC;gBACC,WAAW,CAAC,2LAA2L,EACrM,eAAe,kBAAkB,sCACjC;;kCAGF,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAI,WAAU;kDACb,cAAA,6LAAC;4CACC,WAAU;4CACV,MAAK;4CACL,QAAO;4CACP,SAAQ;sDAER,cAAA,6LAAC;gDACC,eAAc;gDACd,gBAAe;gDACf,aAAa;gDACb,GAAE;;;;;;;;;;;;;;;;kDAIR,6LAAC;wCAAG,WAAU;kDAAoB;;;;;;;;;;;;0CAEpC,6LAAC;gCAAE,WAAU;0CAAqC;;;;;;;;;;;;kCAIpD,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAE,WAAU;kDAAsD;;;;;;kDACnE,6LAAC;wCAAI,WAAU;;0DACb,6LAAC;gDAAK,WAAU;0DAAoC,KAAK,WAAW;;;;;;4CACnE,KAAK,KAAK,CAAC,MAAM,GAAG,mBACnB,6LAAC,wJAAY;;kEACX,6LAAC,+JAAmB;wDAAC,OAAO;kEAC1B,cAAA,6LAAC,wIAAM;4DACL,SAAQ;4DACR,MAAK;4DACL,WAAU;sEAEV,cAAA,6LAAC,sOAAW;gEAAC,WAAU;;;;;;;;;;;;;;;;kEAG3B,6LAAC,+JAAmB;wDAAC,OAAM;wDAAM,WAAU;kEACxC,KAAK,KAAK,CAAC,GAAG,CAAC,CAAC,qBACf,6LAAC,4JAAgB;gEAEf,SAAS,IAAM,WAAW;gEAC1B,WAAW,CAAC,2CAA2C,EACrD,KAAK,WAAW,KAAK,OAAO,iBAAiB,yBAC7C;0EAED,KAAK,MAAM,CAAC,GAAG,WAAW,KAAK,KAAK,KAAK,CAAC;+DANtC;;;;;;;;;;;;;;;;;;;;;;;;;;;;0CAcnB,6LAAC;gCAAE,WAAU;0CAA+C,KAAK,KAAK;;;;;;;;;;;;kCAIxE,6LAAC;wBAAI,WAAU;kCACZ,YAAY,GAAG,CAAC,CAAC,MAAM,oBACtB,6LAAC;gCAEC,SAAS,IAAM,iBAAiB,KAAK,IAAI;gCACzC,OAAO;oCAAE,gBAAgB,GAAG,MAAM,GAAG,EAAE,CAAC;gCAAC;gCACzC,WAAW,CAAC,wHAAwH,EAClI,SAAS,KAAK,IAAI,IACd,+DACA,uGACJ;;kDAEF,6LAAC,KAAK,IAAI;wCAAC,WAAU;;;;;;kDACrB,6LAAC;kDAAM,KAAK,KAAK;;;;;;;+BAVZ,KAAK,IAAI;;;;;;;;;;kCAgBpB,6LAAC;wBAAI,WAAU;;0CACb,6LAAC,wIAAM;gCACL,SAAQ;gCACR,WAAU;gCACV,MAAK;;kDAEL,6LAAC,yNAAQ;wCAAC,WAAU;;;;;;kDACpB,6LAAC;kDAAK;;;;;;;;;;;;0CAER,6LAAC,wIAAM;gCACL,SAAQ;gCACR,SAAS;gCACT,WAAU;gCACV,MAAK;;kDAEL,6LAAC,uNAAM;wCAAC,WAAU;;;;;;kDAClB,6LAAC;kDAAK;;;;;;;;;;;;;;;;;;;;;;;;;;AAMlB;GAhMgB;;QACuB,qIAAO;QAC7B,kJAAS;QACP,oJAAW;;;KAHd"}},
    {"offset": {"line": 909, "column": 0}, "map": {"version":3,"sources":["file:///E:/health-performance-dashboard/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn('leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn('px-6', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf;MARS"}},
    {"offset": {"line": 1029, "column": 0}, "map": {"version":3,"sources":["file:///E:/health-performance-dashboard/components/dashboards/hospital-dashboard.tsx"],"sourcesContent":["\"use client\"\n\nimport { useAuth } from \"@/lib/auth-context\"\nimport { Button } from \"@/components/ui/button\"\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { TrendingUp, FileText, Upload, AlertCircle } from \"lucide-react\"\nimport { useRouter } from \"next/navigation\"\n\nexport function HospitalDashboard() {\n  const { user } = useAuth()\n  const router = useRouter()\n\n  const stats = [\n    {\n      label: \"Submitted Reports\",\n      value: \"24\",\n      icon: FileText,\n      color: \"bg-accent/10\",\n    },\n    {\n      label: \"Pending Review\",\n      value: \"3\",\n      icon: AlertCircle,\n      color: \"bg-amber-500/10\",\n    },\n    {\n      label: \"Approved\",\n      value: \"21\",\n      icon: TrendingUp,\n      color: \"bg-emerald-500/10\",\n    },\n    {\n      label: \"Files Uploaded\",\n      value: \"12\",\n      icon: Upload,\n      color: \"bg-primary/10\",\n    },\n  ]\n\n  return (\n    <div className=\"w-full flex-1 overflow-auto\">\n      <div className=\"p-4 md:p-8 space-y-6 md:space-y-8\">\n        {/* Header */}\n        <div className=\"fade-in\">\n          <h1 className=\"text-2xl md:text-4xl font-bold mb-2 transition-all duration-300\">\n            Welcome, {user?.name?.split(\" \")[0]}\n          </h1>\n          <p className=\"text-muted-foreground text-sm md:text-base\">\n            Facility ID: <span className=\"font-semibold\">{user?.facilityId}</span>\n          </p>\n        </div>\n\n        {/* Stats Grid - Fully Responsive */}\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4\">\n          {stats.map((stat, idx) => {\n            const Icon = stat.icon\n            return (\n              <Card\n                key={idx}\n                style={{ animationDelay: `${idx * 50}ms` }}\n                className=\"card-hover fade-in cursor-pointer transition-all duration-300\"\n              >\n                <CardContent className=\"p-4 md:p-6\">\n                  <div className=\"flex items-center justify-between gap-4\">\n                    <div className=\"flex-1 min-w-0\">\n                      <p className=\"text-xs md:text-sm text-muted-foreground truncate\">{stat.label}</p>\n                      <p className=\"text-xl md:text-2xl font-bold mt-1\">{stat.value}</p>\n                    </div>\n                    <div\n                      className={`${stat.color} p-2 md:p-3 rounded-lg flex-shrink-0 transition-all duration-300 hover:scale-110`}\n                    >\n                      <Icon className=\"w-5 h-5 md:w-6 md:h-6 text-primary\" />\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n            )\n          })}\n        </div>\n\n        {/* Quick Actions */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6\">\n          {[\n            {\n              title: \"Submit Performance Data\",\n              description: \"Enter facility-level metrics and performance indicators\",\n              action: \"Submit Data\",\n              href: \"/data/submit\",\n              bgClass: \"bg-accent/5\",\n            },\n            {\n              title: \"Submit Scheme Tracking\",\n              description: \"Report beneficiary counts and fund utilization\",\n              action: \"Submit Scheme\",\n              href: \"/scheme/submit\",\n              bgClass: \"bg-primary/5\",\n            },\n          ].map((card, idx) => (\n            <Card\n              key={idx}\n              style={{ animationDelay: `${(idx + stats.length) * 50}ms` }}\n              className=\"card-hover fade-in transition-all duration-300\"\n            >\n              <CardHeader>\n                <CardTitle className=\"text-lg md:text-xl\">{card.title}</CardTitle>\n                <CardDescription className=\"text-xs md:text-sm\">{card.description}</CardDescription>\n              </CardHeader>\n              <CardContent>\n                <Button\n                  onClick={() => router.push(card.href)}\n                  className={`w-full h-10 transition-all duration-200 btn-micro ${\n                    idx === 0\n                      ? \"bg-accent hover:bg-accent/90 text-accent-foreground\"\n                      : \"bg-primary hover:bg-primary/90 text-primary-foreground\"\n                  }`}\n                >\n                  {card.action}\n                </Button>\n              </CardContent>\n            </Card>\n          ))}\n        </div>\n\n        {/* Recent Activity */}\n        <Card className=\"fade-in transition-all duration-300\">\n          <CardHeader>\n            <CardTitle className=\"text-lg md:text-xl\">Recent Submissions</CardTitle>\n            <CardDescription className=\"text-xs md:text-sm\">Your last 5 submissions</CardDescription>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-3\">\n              {[...Array(5)].map((_, idx) => (\n                <div\n                  key={idx}\n                  style={{ animationDelay: `${(idx + stats.length + 2) * 30}ms` }}\n                  className=\"flex flex-col md:flex-row md:items-center md:justify-between p-3 md:p-4 border border-border rounded-lg hover:bg-secondary/30 transition-all duration-200 fade-in gap-2\"\n                >\n                  <div className=\"min-w-0 flex-1\">\n                    <p className=\"font-medium text-sm md:text-base truncate\">Performance Data - Week {52 - idx}</p>\n                    <p className=\"text-xs md:text-sm text-muted-foreground\">\n                      {new Date(Date.now() - idx * 7 * 24 * 60 * 60 * 1000).toLocaleDateString()}\n                    </p>\n                  </div>\n                  <span className=\"text-xs font-semibold px-2.5 py-1 rounded-full bg-emerald-500/10 text-emerald-700 dark:text-emerald-400 whitespace-nowrap transition-all duration-200 hover:bg-emerald-500/20\">\n                    Approved\n                  </span>\n                </div>\n              ))}\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1395, "column": 0}, "map": {"version":3,"sources":["file:///E:/health-performance-dashboard/components/dashboards/district-dashboard.tsx"],"sourcesContent":["\"use client\"\nimport { useAuth } from \"@/lib/auth-context\"\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { CheckCircle2, Clock, Filter, AlertCircle } from \"lucide-react\"\nimport { useRouter } from \"next/navigation\"\n\nexport function DistrictDashboard() {\n  const { user } = useAuth()\n  const router = useRouter()\n\n  const stats = [\n    { label: \"Total Facilities\", value: \"42\", color: \"bg-primary/10\" },\n    { label: \"Active Reports\", value: \"156\", color: \"bg-accent/10\" },\n    { label: \"Pending Review\", value: \"12\", color: \"bg-amber-500/10\" },\n    { label: \"Approval Rate\", value: \"92%\", color: \"bg-emerald-500/10\" },\n  ]\n\n  const facilities = [\n    {\n      name: \"City General Hospital\",\n      submissions: 28,\n      pending: 2,\n      approved: 26,\n      status: \"active\",\n    },\n    {\n      name: \"District Primary Center\",\n      submissions: 15,\n      pending: 1,\n      approved: 14,\n      status: \"active\",\n    },\n    {\n      name: \"Rural Clinic A\",\n      submissions: 8,\n      pending: 3,\n      approved: 5,\n      status: \"needs-review\",\n    },\n    {\n      name: \"Rural Clinic B\",\n      submissions: 12,\n      pending: 0,\n      approved: 12,\n      status: \"active\",\n    },\n  ]\n\n  return (\n    <div className=\"flex-1 overflow-auto p-4 md:p-8\">\n      {/* Header */}\n      <div className=\"mb-8\">\n        <h1 className=\"text-3xl md:text-4xl font-bold mb-2\">District Dashboard</h1>\n        <p className=\"text-muted-foreground\">\n          District ID: <span className=\"font-semibold\">DIST001</span>\n        </p>\n      </div>\n\n      {/* Alert Banner */}\n      <div className=\"mb-8 p-4 bg-amber-50 dark:bg-amber-950/30 border border-amber-200 dark:border-amber-800 rounded-lg flex gap-3\">\n        <AlertCircle className=\"w-5 h-5 text-amber-600 dark:text-amber-400 flex-shrink-0 mt-0.5\" />\n        <div>\n          <p className=\"font-semibold text-amber-900 dark:text-amber-100\">12 submissions pending review</p>\n          <p className=\"text-sm text-amber-800 dark:text-amber-300\">Review them to keep data flow smooth</p>\n        </div>\n      </div>\n\n      {/* Stats Grid */}\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8\">\n        {stats.map((stat, idx) => (\n          <Card key={idx}>\n            <CardContent className=\"p-6\">\n              <p className=\"text-sm text-muted-foreground mb-1\">{stat.label}</p>\n              <p className=\"text-2xl font-bold\">{stat.value}</p>\n            </CardContent>\n          </Card>\n        ))}\n      </div>\n\n      {/* Quick Action */}\n      <div className=\"mb-8\">\n        <Button\n          onClick={() => router.push(\"/review/queue\")}\n          className=\"bg-accent hover:bg-accent text-accent-foreground\"\n        >\n          <Clock className=\"w-4 h-4 mr-2\" />\n          View Review Queue (12 Pending)\n        </Button>\n      </div>\n\n      {/* Facilities Table */}\n      <Card>\n        <CardHeader>\n          <div className=\"flex items-center justify-between flex-wrap gap-4\">\n            <div>\n              <CardTitle>Facilities Overview</CardTitle>\n              <CardDescription>Monitor all facilities in the district</CardDescription>\n            </div>\n            <Button variant=\"outline\" size=\"sm\">\n              <Filter className=\"w-4 h-4 mr-2\" />\n              Filter\n            </Button>\n          </div>\n        </CardHeader>\n        <CardContent>\n          <div className=\"overflow-x-auto\">\n            <table className=\"w-full text-sm\">\n              <thead>\n                <tr className=\"border-b border-border\">\n                  <th className=\"text-left p-3 font-semibold\">Facility</th>\n                  <th className=\"text-center p-3 font-semibold\">Submissions</th>\n                  <th className=\"text-center p-3 font-semibold\">Pending</th>\n                  <th className=\"text-center p-3 font-semibold\">Approved</th>\n                  <th className=\"text-center p-3 font-semibold\">Status</th>\n                </tr>\n              </thead>\n              <tbody>\n                {facilities.map((facility, idx) => (\n                  <tr key={idx} className=\"border-b border-border hover:bg-secondary/30 transition-colors\">\n                    <td className=\"p-3 font-medium\">{facility.name}</td>\n                    <td className=\"text-center p-3\">{facility.submissions}</td>\n                    <td className=\"text-center p-3\">\n                      <span className=\"font-semibold text-amber-600 dark:text-amber-400\">{facility.pending}</span>\n                    </td>\n                    <td className=\"text-center p-3\">\n                      <span className=\"font-semibold text-emerald-600 dark:text-emerald-400\">{facility.approved}</span>\n                    </td>\n                    <td className=\"text-center p-3\">\n                      <span\n                        className={`inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-semibold ${\n                          facility.status === \"active\"\n                            ? \"bg-emerald-500/10 text-emerald-700 dark:text-emerald-400\"\n                            : \"bg-amber-500/10 text-amber-700 dark:text-amber-400\"\n                        }`}\n                      >\n                        {facility.status === \"active\" ? (\n                          <CheckCircle2 className=\"w-3 h-3\" />\n                        ) : (\n                          <Clock className=\"w-3 h-3\" />\n                        )}\n                        {facility.status === \"active\" ? \"Active\" : \"Needs Review\"}\n                      </span>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1867, "column": 0}, "map": {"version":3,"sources":["file:///E:/health-performance-dashboard/components/dashboards/state-dashboard.tsx"],"sourcesContent":["\"use client\"\n\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\n\nexport function StateDashboard() {\n  const metrics = [\n    { label: \"Total Districts\", value: \"28\", trend: \"+2\" },\n    { label: \"Total Facilities\", value: \"1,240\", trend: \"+45\" },\n    { label: \"Data Compliance\", value: \"94%\", trend: \"+3%\" },\n    { label: \"Performance Score\", value: \"8.7/10\", trend: \"+0.2\" },\n  ]\n\n  return (\n    <div className=\"flex-1 p-4 md:p-8\">\n      <div className=\"mb-8\">\n        <h1 className=\"text-3xl md:text-4xl font-bold mb-2\">State Analytics Dashboard</h1>\n        <p className=\"text-muted-foreground\">Aggregated health performance metrics across all districts</p>\n      </div>\n\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8\">\n        {metrics.map((metric, idx) => (\n          <Card key={idx}>\n            <CardContent className=\"p-6\">\n              <p className=\"text-sm text-muted-foreground mb-1\">{metric.label}</p>\n              <div className=\"flex items-baseline justify-between\">\n                <p className=\"text-2xl font-bold\">{metric.value}</p>\n                <span className=\"text-xs font-semibold text-emerald-600 dark:text-emerald-400\">{metric.trend}</span>\n              </div>\n            </CardContent>\n          </Card>\n        ))}\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        <Card>\n          <CardHeader>\n            <CardTitle>Top Performing Districts</CardTitle>\n            <CardDescription>Based on compliance and data quality</CardDescription>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-3\">\n              {[...Array(5)].map((_, idx) => (\n                <div key={idx} className=\"flex items-center justify-between p-2\">\n                  <span className=\"text-sm font-medium\">District {idx + 1}</span>\n                  <div className=\"w-32 bg-secondary rounded-full h-2 overflow-hidden\">\n                    <div className=\"bg-accent h-full rounded-full\" style={{ width: `${95 - idx * 3}%` }} />\n                  </div>\n                  <span className=\"text-sm font-semibold\">{95 - idx * 3}%</span>\n                </div>\n              ))}\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader>\n            <CardTitle>Scheme Performance</CardTitle>\n            <CardDescription>Welfare scheme utilization rates</CardDescription>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-3\">\n              {[\n                { name: \"Maternal Health\", rate: 87 },\n                { name: \"Child Nutrition\", rate: 92 },\n                { name: \"Immunization\", rate: 88 },\n                { name: \"Disease Prevention\", rate: 81 },\n              ].map((scheme, idx) => (\n                <div key={idx} className=\"flex items-center justify-between p-2\">\n                  <span className=\"text-sm font-medium\">{scheme.name}</span>\n                  <span className=\"text-sm font-semibold\">{scheme.rate}%</span>\n                </div>\n              ))}\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIO,SAAS;IACd,MAAM,UAAU;QACd;YAAE,OAAO;YAAmB,OAAO;YAAM,OAAO;QAAK;QACrD;YAAE,OAAO;YAAoB,OAAO;YAAS,OAAO;QAAM;QAC1D;YAAE,OAAO;YAAmB,OAAO;YAAO,OAAO;QAAM;QACvD;YAAE,OAAO;YAAqB,OAAO;YAAU,OAAO;QAAO;KAC9D;IAED,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;kCAAsC;;;;;;kCACpD,6LAAC;wBAAE,WAAU;kCAAwB;;;;;;;;;;;;0BAGvC,6LAAC;gBAAI,WAAU;0BACZ,QAAQ,GAAG,CAAC,CAAC,QAAQ,oBACpB,6LAAC,oIAAI;kCACH,cAAA,6LAAC,2IAAW;4BAAC,WAAU;;8CACrB,6LAAC;oCAAE,WAAU;8CAAsC,OAAO,KAAK;;;;;;8CAC/D,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAE,WAAU;sDAAsB,OAAO,KAAK;;;;;;sDAC/C,6LAAC;4CAAK,WAAU;sDAAgE,OAAO,KAAK;;;;;;;;;;;;;;;;;;uBALvF;;;;;;;;;;0BAYf,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,oIAAI;;0CACH,6LAAC,0IAAU;;kDACT,6LAAC,yIAAS;kDAAC;;;;;;kDACX,6LAAC,+IAAe;kDAAC;;;;;;;;;;;;0CAEnB,6LAAC,2IAAW;0CACV,cAAA,6LAAC;oCAAI,WAAU;8CACZ;2CAAI,MAAM;qCAAG,CAAC,GAAG,CAAC,CAAC,GAAG,oBACrB,6LAAC;4CAAc,WAAU;;8DACvB,6LAAC;oDAAK,WAAU;;wDAAsB;wDAAU,MAAM;;;;;;;8DACtD,6LAAC;oDAAI,WAAU;8DACb,cAAA,6LAAC;wDAAI,WAAU;wDAAgC,OAAO;4DAAE,OAAO,GAAG,KAAK,MAAM,EAAE,CAAC,CAAC;wDAAC;;;;;;;;;;;8DAEpF,6LAAC;oDAAK,WAAU;;wDAAyB,KAAK,MAAM;wDAAE;;;;;;;;2CAL9C;;;;;;;;;;;;;;;;;;;;;kCAYlB,6LAAC,oIAAI;;0CACH,6LAAC,0IAAU;;kDACT,6LAAC,yIAAS;kDAAC;;;;;;kDACX,6LAAC,+IAAe;kDAAC;;;;;;;;;;;;0CAEnB,6LAAC,2IAAW;0CACV,cAAA,6LAAC;oCAAI,WAAU;8CACZ;wCACC;4CAAE,MAAM;4CAAmB,MAAM;wCAAG;wCACpC;4CAAE,MAAM;4CAAmB,MAAM;wCAAG;wCACpC;4CAAE,MAAM;4CAAgB,MAAM;wCAAG;wCACjC;4CAAE,MAAM;4CAAsB,MAAM;wCAAG;qCACxC,CAAC,GAAG,CAAC,CAAC,QAAQ,oBACb,6LAAC;4CAAc,WAAU;;8DACvB,6LAAC;oDAAK,WAAU;8DAAuB,OAAO,IAAI;;;;;;8DAClD,6LAAC;oDAAK,WAAU;;wDAAyB,OAAO,IAAI;wDAAC;;;;;;;;2CAF7C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAW1B;KA1EgB"}},
    {"offset": {"line": 2189, "column": 0}, "map": {"version":3,"sources":["file:///E:/health-performance-dashboard/lib/export-utils.ts"],"sourcesContent":["// ============================================\r\n// Export Utilities for HDIMS\r\n// ============================================\r\n\r\n// Export to PDF\r\nexport const exportToPDF = async (data: any[], filename: string = 'export.pdf') => {\r\n  try {\r\n    // For PDF export, we'll create a simple text-based report for now\r\n    // In a production environment, you'd use libraries like jsPDF or Puppeteer\r\n    \r\n    let content = `${filename}\\n${'='.repeat(50)}\\n\\n`\r\n    content += `Generated: ${new Date().toLocaleString()}\\n`\r\n    content += `Total Records: ${data.length}\\n\\n`\r\n    \r\n    data.forEach((item, index) => {\r\n      content += `${index + 1}. ${JSON.stringify(item, null, 2)}\\n\\n`\r\n    })\r\n    \r\n    // Create blob and download\r\n    const blob = new Blob([content], { type: 'text/plain' })\r\n    const url = window.URL.createObjectURL(blob)\r\n    const link = document.createElement('a')\r\n    link.href = url\r\n    link.download = filename.replace('.pdf', '.txt') // For now, save as text\r\n    document.body.appendChild(link)\r\n    link.click()\r\n    document.body.removeChild(link)\r\n    window.URL.revokeObjectURL(url)\r\n    \r\n    return { success: true }\r\n  } catch (error) {\r\n    console.error('PDF export error:', error)\r\n    return { success: false, error: (error as Error).message }\r\n  }\r\n}\r\n\r\n// Export to Excel/CSV\r\nexport const exportToExcel = async (data: any[], filename: string = 'export.csv') => {\r\n  try {\r\n    if (!data || data.length === 0) {\r\n      throw new Error('No data to export')\r\n    }\r\n    \r\n    // Get headers from first object\r\n    const headers = Object.keys(data[0])\r\n    \r\n    // Create CSV content\r\n    let csvContent = headers.join(',') + '\\n'\r\n    \r\n    data.forEach(row => {\r\n      const values = headers.map(header => {\r\n        const value = row[header]\r\n        // Handle commas and quotes in values\r\n        if (typeof value === 'string' && (value.includes(',') || value.includes('\"'))) {\r\n          return `\"${value.replace(/\"/g, '\"\"')}\"`\r\n        }\r\n        return value || ''\r\n      })\r\n      csvContent += values.join(',') + '\\n'\r\n    })\r\n    \r\n    // Create blob and download\r\n    const blob = new Blob([csvContent], { type: 'text/csv' })\r\n    const url = window.URL.createObjectURL(blob)\r\n    const link = document.createElement('a')\r\n    link.href = url\r\n    link.download = filename\r\n    document.body.appendChild(link)\r\n    link.click()\r\n    document.body.removeChild(link)\r\n    window.URL.revokeObjectURL(url)\r\n    \r\n    return { success: true }\r\n  } catch (error) {\r\n    console.error('Excel export error:', error)\r\n    return { success: false, error: (error as Error).message }\r\n  }\r\n}\r\n\r\n// Export performance data\r\nexport const exportPerformanceData = async (filters: any = {}) => {\r\n  try {\r\n    const { db } = await import('@/lib/hdims-supabase')\r\n    \r\n    // Fetch performance data\r\n    const { data, error } = await db.select('performance_data', {\r\n      select: '*',\r\n      eq: filters,\r\n      order: { column: 'created_at', ascending: false }\r\n    })\r\n    \r\n    if (error) {\r\n      throw error\r\n    }\r\n    \r\n    // Transform data for export\r\n    const exportData = data?.map((item: any) => ({\r\n      'Facility ID': item.facility_id,\r\n      'Metric Key': item.metric_key,\r\n      'Metric Value': item.metric_value,\r\n      'Reporting Period': item.reporting_period,\r\n      'Status': item.status,\r\n      'Created At': new Date(item.created_at).toLocaleString(),\r\n      'Updated At': new Date(item.updated_at).toLocaleString()\r\n    }))\r\n    \r\n    return exportData\r\n  } catch (error) {\r\n    console.error('Error fetching performance data:', error)\r\n    throw error\r\n  }\r\n}\r\n\r\n// Export scheme data\r\nexport const exportSchemeData = async (filters: any = {}) => {\r\n  try {\r\n    const { db } = await import('@/lib/hdims-supabase')\r\n    \r\n    // Fetch scheme data\r\n    const { data, error } = await db.select('scheme_tracking', {\r\n      select: '*',\r\n      eq: filters,\r\n      order: { column: 'created_at', ascending: false }\r\n    })\r\n    \r\n    if (error) {\r\n      throw error\r\n    }\r\n    \r\n    // Transform data for export\r\n    const exportData = data?.map((item: any) => ({\r\n      'Facility ID': item.facility_id,\r\n      'Scheme Name': item.scheme_name,\r\n      'Scheme Type': item.scheme_type,\r\n      'Implementation Status': item.implementation_status,\r\n      'Beneficiaries Count': item.beneficiaries_count,\r\n      'Funding Amount': item.funding_amount,\r\n      'Reporting Period': item.reporting_period,\r\n      'Status': item.status,\r\n      'Created At': new Date(item.created_at).toLocaleString(),\r\n      'Updated At': new Date(item.updated_at).toLocaleString()\r\n    }))\r\n    \r\n    return exportData\r\n  } catch (error) {\r\n    console.error('Error fetching scheme data:', error)\r\n    throw error\r\n  }\r\n}\r\n\r\n// Export user data (admin only)\r\nexport const exportUserData = async () => {\r\n  try {\r\n    const { db } = await import('@/lib/hdims-supabase')\r\n    \r\n    // Fetch user data\r\n    const { data, error } = await db.select('users', {\r\n      select: 'id, full_name, email, role, facility_id, district_id, state_id, is_active, created_at',\r\n      order: { column: 'created_at', ascending: false }\r\n    })\r\n    \r\n    if (error) {\r\n      throw error\r\n    }\r\n    \r\n    // Transform data for export\r\n    const exportData = (data || []).map((item: any) => ({\r\n      'User ID': item.id,\r\n      'Full Name': item.full_name,\r\n      'Email': item.email,\r\n      'Role': item.role,\r\n      'Facility ID': item.facility_id || 'N/A',\r\n      'District ID': item.district_id || 'N/A',\r\n      'State ID': item.state_id || 'N/A',\r\n      'Active': item.is_active ? 'Yes' : 'No',\r\n      'Created At': new Date(item.created_at).toLocaleString()\r\n    }))\r\n    \r\n    return exportData\r\n  } catch (error) {\r\n    console.error('Error fetching user data:', error)\r\n    throw error\r\n  }\r\n}\r\n\r\n// Export audit logs (admin only)\r\nexport const exportAuditLogs = async (filters: any = {}) => {\r\n  try {\r\n    const { db } = await import('@/lib/hdims-supabase')\r\n    \r\n    // Fetch audit logs\r\n    const { data, error } = await db.select('audit_logs', {\r\n      select: '*',\r\n      eq: filters,\r\n      order: { column: 'created_at', ascending: false }\r\n    })\r\n    \r\n    if (error) {\r\n      throw error\r\n    }\r\n    \r\n    // Transform data for export\r\n    const exportData = (data || []).map((item: any) => ({\r\n      'Action': item.action,\r\n      'Table Name': item.table_name,\r\n      'Record ID': item.record_id,\r\n      'User ID': item.user_id,\r\n      'Old Values': JSON.stringify(item.old_values || {}),\r\n      'New Values': JSON.stringify(item.new_values || {}),\r\n      'IP Address': item.ip_address || 'N/A',\r\n      'User Agent': item.user_agent || 'N/A',\r\n      'Created At': new Date(item.created_at).toLocaleString()\r\n    }))\r\n    \r\n    return exportData\r\n  } catch (error) {\r\n    console.error('Error fetching audit logs:', error)\r\n    throw error\r\n  }\r\n}\r\n"],"names":[],"mappings":"AAAA,+CAA+C;AAC/C,6BAA6B;AAC7B,+CAA+C;AAE/C,gBAAgB;;;;;;;;;;;;;;;AACT,MAAM,cAAc,OAAO,MAAa,WAAmB,YAAY;IAC5E,IAAI;QACF,kEAAkE;QAClE,2EAA2E;QAE3E,IAAI,UAAU,GAAG,SAAS,EAAE,EAAE,IAAI,MAAM,CAAC,IAAI,IAAI,CAAC;QAClD,WAAW,CAAC,WAAW,EAAE,IAAI,OAAO,cAAc,GAAG,EAAE,CAAC;QACxD,WAAW,CAAC,eAAe,EAAE,KAAK,MAAM,CAAC,IAAI,CAAC;QAE9C,KAAK,OAAO,CAAC,CAAC,MAAM;YAClB,WAAW,GAAG,QAAQ,EAAE,EAAE,EAAE,KAAK,SAAS,CAAC,MAAM,MAAM,GAAG,IAAI,CAAC;QACjE;QAEA,2BAA2B;QAC3B,MAAM,OAAO,IAAI,KAAK;YAAC;SAAQ,EAAE;YAAE,MAAM;QAAa;QACtD,MAAM,MAAM,OAAO,GAAG,CAAC,eAAe,CAAC;QACvC,MAAM,OAAO,SAAS,aAAa,CAAC;QACpC,KAAK,IAAI,GAAG;QACZ,KAAK,QAAQ,GAAG,SAAS,OAAO,CAAC,QAAQ,SAAQ,wBAAwB;QACzE,SAAS,IAAI,CAAC,WAAW,CAAC;QAC1B,KAAK,KAAK;QACV,SAAS,IAAI,CAAC,WAAW,CAAC;QAC1B,OAAO,GAAG,CAAC,eAAe,CAAC;QAE3B,OAAO;YAAE,SAAS;QAAK;IACzB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,qBAAqB;QACnC,OAAO;YAAE,SAAS;YAAO,OAAO,AAAC,MAAgB,OAAO;QAAC;IAC3D;AACF;AAGO,MAAM,gBAAgB,OAAO,MAAa,WAAmB,YAAY;IAC9E,IAAI;QACF,IAAI,CAAC,QAAQ,KAAK,MAAM,KAAK,GAAG;YAC9B,MAAM,IAAI,MAAM;QAClB;QAEA,gCAAgC;QAChC,MAAM,UAAU,OAAO,IAAI,CAAC,IAAI,CAAC,EAAE;QAEnC,qBAAqB;QACrB,IAAI,aAAa,QAAQ,IAAI,CAAC,OAAO;QAErC,KAAK,OAAO,CAAC,CAAA;YACX,MAAM,SAAS,QAAQ,GAAG,CAAC,CAAA;gBACzB,MAAM,QAAQ,GAAG,CAAC,OAAO;gBACzB,qCAAqC;gBACrC,IAAI,OAAO,UAAU,YAAY,CAAC,MAAM,QAAQ,CAAC,QAAQ,MAAM,QAAQ,CAAC,IAAI,GAAG;oBAC7E,OAAO,CAAC,CAAC,EAAE,MAAM,OAAO,CAAC,MAAM,MAAM,CAAC,CAAC;gBACzC;gBACA,OAAO,SAAS;YAClB;YACA,cAAc,OAAO,IAAI,CAAC,OAAO;QACnC;QAEA,2BAA2B;QAC3B,MAAM,OAAO,IAAI,KAAK;YAAC;SAAW,EAAE;YAAE,MAAM;QAAW;QACvD,MAAM,MAAM,OAAO,GAAG,CAAC,eAAe,CAAC;QACvC,MAAM,OAAO,SAAS,aAAa,CAAC;QACpC,KAAK,IAAI,GAAG;QACZ,KAAK,QAAQ,GAAG;QAChB,SAAS,IAAI,CAAC,WAAW,CAAC;QAC1B,KAAK,KAAK;QACV,SAAS,IAAI,CAAC,WAAW,CAAC;QAC1B,OAAO,GAAG,CAAC,eAAe,CAAC;QAE3B,OAAO;YAAE,SAAS;QAAK;IACzB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,uBAAuB;QACrC,OAAO;YAAE,SAAS;YAAO,OAAO,AAAC,MAAgB,OAAO;QAAC;IAC3D;AACF;AAGO,MAAM,wBAAwB,OAAO,UAAe,CAAC,CAAC;IAC3D,IAAI;QACF,MAAM,EAAE,EAAE,EAAE,GAAG;QAEf,yBAAyB;QACzB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,GAAG,MAAM,CAAC,oBAAoB;YAC1D,QAAQ;YACR,IAAI;YACJ,OAAO;gBAAE,QAAQ;gBAAc,WAAW;YAAM;QAClD;QAEA,IAAI,OAAO;YACT,MAAM;QACR;QAEA,4BAA4B;QAC5B,MAAM,aAAa,MAAM,IAAI,CAAC,OAAc,CAAC;gBAC3C,eAAe,KAAK,WAAW;gBAC/B,cAAc,KAAK,UAAU;gBAC7B,gBAAgB,KAAK,YAAY;gBACjC,oBAAoB,KAAK,gBAAgB;gBACzC,UAAU,KAAK,MAAM;gBACrB,cAAc,IAAI,KAAK,KAAK,UAAU,EAAE,cAAc;gBACtD,cAAc,IAAI,KAAK,KAAK,UAAU,EAAE,cAAc;YACxD,CAAC;QAED,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,oCAAoC;QAClD,MAAM;IACR;AACF;AAGO,MAAM,mBAAmB,OAAO,UAAe,CAAC,CAAC;IACtD,IAAI;QACF,MAAM,EAAE,EAAE,EAAE,GAAG;QAEf,oBAAoB;QACpB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,GAAG,MAAM,CAAC,mBAAmB;YACzD,QAAQ;YACR,IAAI;YACJ,OAAO;gBAAE,QAAQ;gBAAc,WAAW;YAAM;QAClD;QAEA,IAAI,OAAO;YACT,MAAM;QACR;QAEA,4BAA4B;QAC5B,MAAM,aAAa,MAAM,IAAI,CAAC,OAAc,CAAC;gBAC3C,eAAe,KAAK,WAAW;gBAC/B,eAAe,KAAK,WAAW;gBAC/B,eAAe,KAAK,WAAW;gBAC/B,yBAAyB,KAAK,qBAAqB;gBACnD,uBAAuB,KAAK,mBAAmB;gBAC/C,kBAAkB,KAAK,cAAc;gBACrC,oBAAoB,KAAK,gBAAgB;gBACzC,UAAU,KAAK,MAAM;gBACrB,cAAc,IAAI,KAAK,KAAK,UAAU,EAAE,cAAc;gBACtD,cAAc,IAAI,KAAK,KAAK,UAAU,EAAE,cAAc;YACxD,CAAC;QAED,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,+BAA+B;QAC7C,MAAM;IACR;AACF;AAGO,MAAM,iBAAiB;IAC5B,IAAI;QACF,MAAM,EAAE,EAAE,EAAE,GAAG;QAEf,kBAAkB;QAClB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,GAAG,MAAM,CAAC,SAAS;YAC/C,QAAQ;YACR,OAAO;gBAAE,QAAQ;gBAAc,WAAW;YAAM;QAClD;QAEA,IAAI,OAAO;YACT,MAAM;QACR;QAEA,4BAA4B;QAC5B,MAAM,aAAa,CAAC,QAAQ,EAAE,EAAE,GAAG,CAAC,CAAC,OAAc,CAAC;gBAClD,WAAW,KAAK,EAAE;gBAClB,aAAa,KAAK,SAAS;gBAC3B,SAAS,KAAK,KAAK;gBACnB,QAAQ,KAAK,IAAI;gBACjB,eAAe,KAAK,WAAW,IAAI;gBACnC,eAAe,KAAK,WAAW,IAAI;gBACnC,YAAY,KAAK,QAAQ,IAAI;gBAC7B,UAAU,KAAK,SAAS,GAAG,QAAQ;gBACnC,cAAc,IAAI,KAAK,KAAK,UAAU,EAAE,cAAc;YACxD,CAAC;QAED,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,6BAA6B;QAC3C,MAAM;IACR;AACF;AAGO,MAAM,kBAAkB,OAAO,UAAe,CAAC,CAAC;IACrD,IAAI;QACF,MAAM,EAAE,EAAE,EAAE,GAAG;QAEf,mBAAmB;QACnB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,GAAG,MAAM,CAAC,cAAc;YACpD,QAAQ;YACR,IAAI;YACJ,OAAO;gBAAE,QAAQ;gBAAc,WAAW;YAAM;QAClD;QAEA,IAAI,OAAO;YACT,MAAM;QACR;QAEA,4BAA4B;QAC5B,MAAM,aAAa,CAAC,QAAQ,EAAE,EAAE,GAAG,CAAC,CAAC,OAAc,CAAC;gBAClD,UAAU,KAAK,MAAM;gBACrB,cAAc,KAAK,UAAU;gBAC7B,aAAa,KAAK,SAAS;gBAC3B,WAAW,KAAK,OAAO;gBACvB,cAAc,KAAK,SAAS,CAAC,KAAK,UAAU,IAAI,CAAC;gBACjD,cAAc,KAAK,SAAS,CAAC,KAAK,UAAU,IAAI,CAAC;gBACjD,cAAc,KAAK,UAAU,IAAI;gBACjC,cAAc,KAAK,UAAU,IAAI;gBACjC,cAAc,IAAI,KAAK,KAAK,UAAU,EAAE,cAAc;YACxD,CAAC;QAED,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,8BAA8B;QAC5C,MAAM;IACR;AACF"}},
    {"offset": {"line": 2424, "column": 0}, "map": {"version":3,"sources":["file:///E:/health-performance-dashboard/lib/realtime-hooks.ts"],"sourcesContent":["// ============================================\r\n// Real-time Updates for HDIMS\r\n// ============================================\r\n\r\nimport { useEffect, useState } from 'react'\r\nimport { realtime, supabase } from '@/lib/hdims-supabase'\r\nimport { useAuth } from '@/lib/auth-context'\r\n\r\n// Hook for real-time user updates\r\nexport const useRealtimeUsers = () => {\r\n  const [users, setUsers] = useState<any[]>([])\r\n  const { user } = useAuth()\r\n\r\n  useEffect(() => {\r\n    if (!user || user.currentRole !== 'admin') return\r\n\r\n    // Subscribe to users table changes\r\n    const subscription = realtime.subscribeToTable('users', (payload: any) => {\r\n      console.log('Users table change:', payload)\r\n      \r\n      // Refresh users list\r\n      fetchUsers()\r\n    })\r\n\r\n    // Initial fetch\r\n    fetchUsers()\r\n\r\n    return () => {\r\n      realtime.unsubscribe(subscription)\r\n    }\r\n  }, [user])\r\n\r\n  const fetchUsers = async () => {\r\n    try {\r\n      const { db } = await import('@/lib/hdims-supabase')\r\n      const { data, error } = await db.select('users', {\r\n        select: 'id, full_name, email, role, is_active, created_at',\r\n        order: { column: 'created_at', ascending: false }\r\n      })\r\n\r\n      if (!error && data) {\r\n        setUsers(data)\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching users:', error)\r\n    }\r\n  }\r\n\r\n  return users\r\n}\r\n\r\n// Hook for real-time document uploads\r\nexport const useRealtimeDocuments = () => {\r\n  const [documents, setDocuments] = useState<any[]>([])\r\n  const { user } = useAuth()\r\n\r\n  useEffect(() => {\r\n    if (!user) return\r\n\r\n    // Subscribe to uploads table changes\r\n    const subscription = realtime.subscribeToTable('uploads', (payload: any) => {\r\n      console.log('Uploads table change:', payload)\r\n      \r\n      // Show notification for new uploads\r\n      if (payload.eventType === 'INSERT' && payload.new) {\r\n        const newDoc = payload.new\r\n        if (user.currentRole === 'admin' || newDoc.uploaded_by === user.id) {\r\n          // Show notification\r\n          showNotification(`New document uploaded: ${newDoc.file_name}`)\r\n        }\r\n      }\r\n      \r\n      // Refresh documents list\r\n      fetchDocuments()\r\n    })\r\n\r\n    // Initial fetch\r\n    fetchDocuments()\r\n\r\n    return () => {\r\n      realtime.unsubscribe(subscription)\r\n    }\r\n  }, [user])\r\n\r\n  const fetchDocuments = async () => {\r\n    try {\r\n      const { db } = await import('@/lib/hdims-supabase')\r\n      const { data, error } = await db.select('uploads', {\r\n        select: '*',\r\n        order: { column: 'created_at', ascending: false },\r\n        eq: user?.currentRole === 'admin' ? {} : { uploaded_by: user?.id }\r\n      })\r\n\r\n      if (!error && data) {\r\n        setDocuments(data)\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching documents:', error)\r\n    }\r\n  }\r\n\r\n  return documents\r\n}\r\n\r\n// Hook for real-time performance data\r\nexport const useRealtimePerformanceData = () => {\r\n  const [performanceData, setPerformanceData] = useState<any[]>([])\r\n  const { user } = useAuth()\r\n\r\n  useEffect(() => {\r\n    if (!user) return\r\n\r\n    // Subscribe to performance_data table changes\r\n    const subscription = realtime.subscribeToPerformanceData((payload: any) => {\r\n      console.log('Performance data change:', payload)\r\n      \r\n      // Show notification for new submissions\r\n      if (payload.eventType === 'INSERT' && payload.new) {\r\n        const newData = payload.new\r\n        if (user.currentRole === 'admin' || \r\n            (user.currentRole === 'district' && newData.district_id === user.districtId) ||\r\n            (user.currentRole === 'state' && newData.state_id === user.stateId)) {\r\n          showNotification(`New performance data submitted: ${newData.metric_key}`)\r\n        }\r\n      }\r\n      \r\n      // Refresh performance data\r\n      fetchPerformanceData()\r\n    })\r\n\r\n    // Initial fetch\r\n    fetchPerformanceData()\r\n\r\n    return () => {\r\n      realtime.unsubscribe(subscription)\r\n    }\r\n  }, [user])\r\n\r\n  const fetchPerformanceData = async () => {\r\n    try {\r\n      const { db } = await import('@/lib/hdims-supabase')\r\n      const { data, error } = await db.select('performance_data', {\r\n        select: '*',\r\n        order: { column: 'created_at', ascending: false },\r\n        eq: user?.currentRole === 'admin' ? {} : \r\n            user?.currentRole === 'district' ? { district_id: user?.districtId } :\r\n            user?.currentRole === 'state' ? { state_id: user?.stateId } :\r\n            { facility_id: user?.facilityId }\r\n      })\r\n\r\n      if (!error && data) {\r\n        setPerformanceData(data)\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching performance data:', error)\r\n    }\r\n  }\r\n\r\n  return performanceData\r\n}\r\n\r\n// Hook for real-time scheme data\r\nexport const useRealtimeSchemeData = () => {\r\n  const [schemeData, setSchemeData] = useState<any[]>([])\r\n  const { user } = useAuth()\r\n\r\n  useEffect(() => {\r\n    if (!user) return\r\n\r\n    // Subscribe to scheme_tracking table changes\r\n    const subscription = realtime.subscribeToSchemeData((payload: any) => {\r\n      console.log('Scheme data change:', payload)\r\n      \r\n      // Show notification for new submissions\r\n      if (payload.eventType === 'INSERT' && payload.new) {\r\n        const newData = payload.new\r\n        if (user.currentRole === 'admin' || \r\n            (user.currentRole === 'district' && newData.district_id === user.districtId) ||\r\n            (user.currentRole === 'state' && newData.state_id === user.stateId)) {\r\n          showNotification(`New scheme data submitted: ${newData.scheme_name}`)\r\n        }\r\n      }\r\n      \r\n      // Refresh scheme data\r\n      fetchSchemeData()\r\n    })\r\n\r\n    // Initial fetch\r\n    fetchSchemeData()\r\n\r\n    return () => {\r\n      realtime.unsubscribe(subscription)\r\n    }\r\n  }, [user])\r\n\r\n  const fetchSchemeData = async () => {\r\n    try {\r\n      const { db } = await import('@/lib/hdims-supabase')\r\n      const { data, error } = await db.select('scheme_tracking', {\r\n        select: '*',\r\n        order: { column: 'created_at', ascending: false },\r\n        eq: user?.currentRole === 'admin' ? {} : \r\n            user?.currentRole === 'district' ? { district_id: user?.districtId } :\r\n            user?.currentRole === 'state' ? { state_id: user?.stateId } :\r\n            { facility_id: user?.facilityId }\r\n      })\r\n\r\n      if (!error && data) {\r\n        setSchemeData(data)\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching scheme data:', error)\r\n    }\r\n  }\r\n\r\n  return schemeData\r\n}\r\n\r\n// Hook for real-time audit logs\r\nexport const useRealtimeAuditLogs = () => {\r\n  const [auditLogs, setAuditLogs] = useState<any[]>([])\r\n  const { user } = useAuth()\r\n\r\n  useEffect(() => {\r\n    if (!user || user.currentRole !== 'admin') return\r\n\r\n    // Subscribe to audit_logs table changes\r\n    const subscription = realtime.subscribeToTable('audit_logs', (payload: any) => {\r\n      console.log('Audit logs change:', payload)\r\n      \r\n      // Refresh audit logs\r\n      fetchAuditLogs()\r\n    })\r\n\r\n    // Initial fetch\r\n    fetchAuditLogs()\r\n\r\n    return () => {\r\n      realtime.unsubscribe(subscription)\r\n    }\r\n  }, [user])\r\n\r\n  const fetchAuditLogs = async () => {\r\n    try {\r\n      const { db } = await import('@/lib/hdims-supabase')\r\n      const { data, error } = await db.select('audit_logs', {\r\n        select: '*',\r\n        order: { column: 'created_at', ascending: false }\r\n      })\r\n\r\n      if (!error && data) {\r\n        setAuditLogs(data)\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching audit logs:', error)\r\n    }\r\n  }\r\n\r\n  return auditLogs\r\n}\r\n\r\n// Simple notification system\r\nconst showNotification = (message: string) => {\r\n  // Create a simple notification\r\n  const notification = document.createElement('div')\r\n  notification.className = 'fixed top-4 right-4 bg-blue-500 text-white px-4 py-2 rounded-lg shadow-lg z-50 animate-pulse'\r\n  notification.textContent = message\r\n  document.body.appendChild(notification)\r\n  \r\n  // Remove after 3 seconds\r\n  setTimeout(() => {\r\n    if (notification.parentNode) {\r\n      notification.parentNode.removeChild(notification)\r\n    }\r\n  }, 3000)\r\n}\r\n\r\n// Hook for real-time dashboard stats\r\nexport const useRealtimeDashboardStats = () => {\r\n  const [stats, setStats] = useState({\r\n    users: 0,\r\n    facilities: 0,\r\n    pendingReviews: 0,\r\n    recentActivity: 0\r\n  })\r\n  const { user } = useAuth()\r\n\r\n  useEffect(() => {\r\n    if (!user) return\r\n\r\n    // Subscribe to multiple tables\r\n    const subscriptions: any[] = []\r\n\r\n    // Users table\r\n    const usersSub = realtime.subscribeToTable('users', () => {\r\n      updateStats()\r\n    })\r\n    subscriptions.push(usersSub)\r\n\r\n    // Performance data table\r\n    const performanceSub = realtime.subscribeToPerformanceData(() => {\r\n      updateStats()\r\n    })\r\n    subscriptions.push(performanceSub)\r\n\r\n    // Scheme data table\r\n    const schemeSub = realtime.subscribeToSchemeData(() => {\r\n      updateStats()\r\n    })\r\n    subscriptions.push(schemeSub)\r\n\r\n    // Initial fetch\r\n    updateStats()\r\n\r\n    return () => {\r\n      subscriptions.forEach((sub: any) => realtime.unsubscribe(sub))\r\n    }\r\n  }, [user])\r\n\r\n  const updateStats = async () => {\r\n    try {\r\n      const { db } = await import('@/lib/hdims-supabase')\r\n      \r\n      // Get users count\r\n      const { data: users } = await db.select('users', { select: 'id' })\r\n      \r\n      // Get facilities count\r\n      const { data: facilities } = await db.select('facilities', { select: 'id' })\r\n      \r\n      // Get pending reviews\r\n      const { data: pending } = await db.select('performance_data', { \r\n        select: 'id',\r\n        eq: { status: 'submitted' }\r\n      })\r\n      \r\n      // Get recent activity (last 24 hours)\r\n      const { data: recent } = await db.select('performance_data', {\r\n        select: 'id',\r\n        eq: {\r\n          created_at: `gte.${new Date(Date.now() - 24 * 60 * 60 * 1000).toISOString()}`\r\n        }\r\n      })\r\n\r\n      setStats({\r\n        users: users?.length || 0,\r\n        facilities: facilities?.length || 0,\r\n        pendingReviews: pending?.length || 0,\r\n        recentActivity: recent?.length || 0\r\n      })\r\n    } catch (error) {\r\n      console.error('Error updating stats:', error)\r\n    }\r\n  }\r\n\r\n  return stats\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2848, "column": 0}, "map": {"version":3,"sources":["file:///E:/health-performance-dashboard/components/dashboards/admin-dashboard.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { BarChart3, Users, AlertTriangle, CheckCircle, FileText, Activity, Download, FileSpreadsheet } from \"lucide-react\"\nimport { rpc, db } from \"@/lib/hdims-supabase\"\nimport { exportToPDF, exportToExcel, exportUserData, exportAuditLogs } from \"@/lib/export-utils\"\nimport { useRealtimeUsers, useRealtimeAuditLogs, useRealtimeDashboardStats } from \"@/lib/realtime-hooks\"\n\nexport function AdminDashboard() {\n  const [systemStats, setSystemStats] = useState([\n    { label: \"Active Users\", value: \"0\", icon: Users },\n    { label: \"Pending Reviews\", value: \"0\", icon: AlertTriangle },\n    { label: \"Total Facilities\", value: \"0\", icon: CheckCircle },\n    { label: \"Recent Activity\", value: \"0\", icon: Activity },\n  ])\n  const [recentLogs, setRecentLogs] = useState<any[]>([])\n  const [loading, setLoading] = useState(true)\n\n  // Real-time data hooks\n  const realtimeUsers = useRealtimeUsers()\n  const realtimeAuditLogs = useRealtimeAuditLogs()\n  const realtimeStats = useRealtimeDashboardStats()\n\n  useEffect(() => {\n    fetchDashboardData()\n  }, [])\n\n  useEffect(() => {\n    // Update stats when real-time data changes\n    if (realtimeStats) {\n      setSystemStats([\n        { label: \"Active Users\", value: realtimeStats.users.toString(), icon: Users },\n        { label: \"Pending Reviews\", value: realtimeStats.pendingReviews.toString(), icon: AlertTriangle },\n        { label: \"Total Facilities\", value: realtimeStats.facilities.toString(), icon: CheckCircle },\n        { label: \"Recent Activity\", value: realtimeStats.recentActivity.toString(), icon: Activity },\n      ])\n    }\n  }, [realtimeStats])\n\n  useEffect(() => {\n    // Update recent logs when real-time audit logs change\n    if (realtimeAuditLogs.length > 0) {\n      const logs = realtimeAuditLogs.slice(0, 5).map((log: any) => ({\n        description: `${log.action} on ${log.table_name}`,\n        timestamp: new Date(log.created_at).toLocaleString(),\n        type: log.action.includes('INSERT') ? 'success' : log.action.includes('DELETE') ? 'error' : 'info'\n      }))\n      setRecentLogs(logs)\n    }\n  }, [realtimeAuditLogs])\n\n  const fetchDashboardData = async () => {\n    try {\n      setLoading(true)\n\n      // Get superadmin overview data\n      const { data: overviewData, error: overviewError } = await rpc.getSuperadminOverview()\n      \n      if (!overviewError && overviewData) {\n        setSystemStats([\n          { label: \"Active Users\", value: overviewData.users_count?.toString() || \"0\", icon: Users },\n          { label: \"Pending Reviews\", value: overviewData.pending_reviews?.toString() || \"0\", icon: AlertTriangle },\n          { label: \"Total Facilities\", value: overviewData.facilities_count?.toString() || \"0\", icon: CheckCircle },\n          { label: \"States\", value: overviewData.states_count?.toString() || \"0\", icon: BarChart3 },\n        ])\n\n        // Transform recent activity\n        if (overviewData.recent_activity) {\n          const logs = overviewData.recent_activity.slice(0, 5).map((activity: any) => ({\n            description: activity.description || 'System activity',\n            timestamp: new Date(activity.created_at).toLocaleString(),\n            type: activity.status || 'info'\n          }))\n          setRecentLogs(logs)\n        }\n      }\n\n      // If RPC fails, fetch individual stats\n      if (overviewError) {\n        console.warn('RPC overview failed, fetching individual stats:', overviewError)\n        \n        // Fetch users count\n        const { data: users } = await db.select('users', { select: 'id' })\n        const { data: facilities } = await db.select('facilities', { select: 'id' })\n        const { data: states } = await db.select('states', { select: 'id' })\n        \n        setSystemStats([\n          { label: \"Active Users\", value: users?.length?.toString() || \"0\", icon: Users },\n          { label: \"Pending Reviews\", value: \"0\", icon: AlertTriangle },\n          { label: \"Total Facilities\", value: facilities?.length?.toString() || \"0\", icon: CheckCircle },\n          { label: \"States\", value: states?.length?.toString() || \"0\", icon: BarChart3 },\n        ])\n      }\n\n      // Fetch recent audit logs\n      const { data: auditLogs } = await db.select('audit_logs', {\n        select: 'action, table_name, created_at, user_id',\n        order: { column: 'created_at', ascending: false }\n      })\n\n      if (auditLogs) {\n        const logs = auditLogs.slice(0, 5).map((log: any) => ({\n          description: `${log.action} on ${log.table_name}`,\n          timestamp: new Date(log.created_at).toLocaleString(),\n          type: log.action.includes('INSERT') ? 'success' : log.action.includes('DELETE') ? 'error' : 'info'\n        }))\n        setRecentLogs(logs)\n      }\n\n    } catch (error) {\n      console.error('Error fetching dashboard data:', error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handleExportUsers = async (format: 'pdf' | 'excel') => {\n    try {\n      const userData = await exportUserData()\n      \n      if (!userData || userData.length === 0) {\n        alert('No user data available to export')\n        return\n      }\n      \n      if (format === 'pdf') {\n        await exportToPDF(userData, 'users-export.pdf')\n      } else {\n        await exportToExcel(userData, 'users-export.csv')\n      }\n    } catch (error) {\n      alert('Export failed: ' + (error as Error).message)\n    }\n  }\n\n  const handleExportAuditLogs = async (format: 'pdf' | 'excel') => {\n    try {\n      const auditData = await exportAuditLogs()\n      \n      if (!auditData || auditData.length === 0) {\n        alert('No audit log data available to export')\n        return\n      }\n      \n      if (format === 'pdf') {\n        await exportToPDF(auditData, 'audit-logs-export.pdf')\n      } else {\n        await exportToExcel(auditData, 'audit-logs-export.csv')\n      }\n    } catch (error) {\n      alert('Export failed: ' + (error as Error).message)\n    }\n  }\n\n  if (loading) {\n    return (\n      <div className=\"flex-1 p-4 md:p-8 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto\"></div>\n          <p className=\"mt-2 text-muted-foreground\">Loading dashboard...</p>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"flex-1 p-4 md:p-8\">\n      <div className=\"mb-8 flex items-center justify-between flex-wrap gap-4\">\n        <div>\n          <h1 className=\"text-3xl md:text-4xl font-bold mb-2\">Admin Control Panel</h1>\n          <p className=\"text-muted-foreground\">System-wide configuration and monitoring</p>\n          <div className=\"mt-2 flex items-center gap-2\">\n            <div className=\"w-2 h-2 bg-green-500 rounded-full animate-pulse\"></div>\n            <span className=\"text-sm text-green-600\">Live updates enabled</span>\n          </div>\n        </div>\n        <div className=\"flex gap-2\">\n          <Button variant=\"outline\" onClick={() => handleExportUsers('excel')}>\n            <FileSpreadsheet className=\"w-4 h-4 mr-2\" />\n            Export Users\n          </Button>\n          <Button variant=\"outline\" onClick={() => handleExportAuditLogs('excel')}>\n            <Download className=\"w-4 h-4 mr-2\" />\n            Export Logs\n          </Button>\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8\">\n        {systemStats.map((stat, idx) => {\n          const Icon = stat.icon\n          return (\n            <Card key={idx} className=\"relative overflow-hidden\">\n              <CardContent className=\"p-6\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-sm text-muted-foreground\">{stat.label}</p>\n                    <p className=\"text-2xl font-bold mt-1\">{stat.value}</p>\n                  </div>\n                  <Icon className=\"w-6 h-6 text-primary opacity-40\" />\n                </div>\n                {/* Real-time indicator */}\n                <div className=\"absolute top-2 right-2\">\n                  <div className=\"w-2 h-2 bg-green-500 rounded-full animate-pulse\"></div>\n                </div>\n              </CardContent>\n            </Card>\n          )\n        })}\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        <Card>\n          <CardHeader className=\"flex items-center justify-between\">\n            <div>\n              <CardTitle>Recent System Activity</CardTitle>\n              <CardDescription>Latest 5 system events</CardDescription>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <div className=\"w-2 h-2 bg-green-500 rounded-full animate-pulse\"></div>\n              <span className=\"text-xs text-green-600\">Live</span>\n            </div>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-3 text-sm\">\n              {recentLogs.length === 0 ? (\n                <p className=\"text-muted-foreground text-center py-4\">No recent activity</p>\n              ) : (\n                recentLogs.map((log, idx) => (\n                  <div key={idx} className=\"flex items-center justify-between p-2 border border-border rounded\">\n                    <span className=\"font-medium\">{log.description}</span>\n                    <span className=\"text-xs text-muted-foreground\">\n                      {log.timestamp}\n                    </span>\n                  </div>\n                ))\n              )}\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader>\n            <CardTitle>Database Status</CardTitle>\n            <CardDescription>System health metrics</CardDescription>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-4\">\n              {[\n                { label: \"Connection\", value: 100, status: \"healthy\" },\n                { label: \"Data Sync\", value: 100, status: \"synced\" },\n                { label: \"Storage\", value: 25, status: \"optimal\" },\n              ].map((metric, idx) => (\n                <div key={idx}>\n                  <div className=\"flex items-center justify-between mb-1\">\n                    <span className=\"text-sm font-medium\">{metric.label}</span>\n                    <span className=\"text-sm font-semibold text-green-600\">{metric.status}</span>\n                  </div>\n                  <div className=\"w-full bg-secondary rounded-full h-2\">\n                    <div\n                      className=\"bg-green-500 h-full rounded-full transition-all\"\n                      style={{ width: `${metric.value}%` }}\n                    />\n                  </div>\n                </div>\n              ))}\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;;AARA;;;;;;;;AAUO,SAAS;;IACd,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;QAC7C;YAAE,OAAO;YAAgB,OAAO;YAAK,MAAM,gNAAK;QAAC;QACjD;YAAE,OAAO;YAAmB,OAAO;YAAK,MAAM,4OAAa;QAAC;QAC5D;YAAE,OAAO;YAAoB,OAAO;YAAK,MAAM,6OAAW;QAAC;QAC3D;YAAE,OAAO;YAAmB,OAAO;YAAK,MAAM,yNAAQ;QAAC;KACxD;IACD,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAQ,EAAE;IACtD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,uBAAuB;IACvB,MAAM,gBAAgB,IAAA,+IAAgB;IACtC,MAAM,oBAAoB,IAAA,mJAAoB;IAC9C,MAAM,gBAAgB,IAAA,wJAAyB;IAE/C,IAAA,0KAAS;oCAAC;YACR;QACF;mCAAG,EAAE;IAEL,IAAA,0KAAS;oCAAC;YACR,2CAA2C;YAC3C,IAAI,eAAe;gBACjB,eAAe;oBACb;wBAAE,OAAO;wBAAgB,OAAO,cAAc,KAAK,CAAC,QAAQ;wBAAI,MAAM,gNAAK;oBAAC;oBAC5E;wBAAE,OAAO;wBAAmB,OAAO,cAAc,cAAc,CAAC,QAAQ;wBAAI,MAAM,4OAAa;oBAAC;oBAChG;wBAAE,OAAO;wBAAoB,OAAO,cAAc,UAAU,CAAC,QAAQ;wBAAI,MAAM,6OAAW;oBAAC;oBAC3F;wBAAE,OAAO;wBAAmB,OAAO,cAAc,cAAc,CAAC,QAAQ;wBAAI,MAAM,yNAAQ;oBAAC;iBAC5F;YACH;QACF;mCAAG;QAAC;KAAc;IAElB,IAAA,0KAAS;oCAAC;YACR,sDAAsD;YACtD,IAAI,kBAAkB,MAAM,GAAG,GAAG;gBAChC,MAAM,OAAO,kBAAkB,KAAK,CAAC,GAAG,GAAG,GAAG;qDAAC,CAAC,MAAa,CAAC;4BAC5D,aAAa,GAAG,IAAI,MAAM,CAAC,IAAI,EAAE,IAAI,UAAU,EAAE;4BACjD,WAAW,IAAI,KAAK,IAAI,UAAU,EAAE,cAAc;4BAClD,MAAM,IAAI,MAAM,CAAC,QAAQ,CAAC,YAAY,YAAY,IAAI,MAAM,CAAC,QAAQ,CAAC,YAAY,UAAU;wBAC9F,CAAC;;gBACD,cAAc;YAChB;QACF;mCAAG;QAAC;KAAkB;IAEtB,MAAM,qBAAqB;QACzB,IAAI;YACF,WAAW;YAEX,+BAA+B;YAC/B,MAAM,EAAE,MAAM,YAAY,EAAE,OAAO,aAAa,EAAE,GAAG,MAAM,kIAAG,CAAC,qBAAqB;YAEpF,IAAI,CAAC,iBAAiB,cAAc;gBAClC,eAAe;oBACb;wBAAE,OAAO;wBAAgB,OAAO,aAAa,WAAW,EAAE,cAAc;wBAAK,MAAM,gNAAK;oBAAC;oBACzF;wBAAE,OAAO;wBAAmB,OAAO,aAAa,eAAe,EAAE,cAAc;wBAAK,MAAM,4OAAa;oBAAC;oBACxG;wBAAE,OAAO;wBAAoB,OAAO,aAAa,gBAAgB,EAAE,cAAc;wBAAK,MAAM,6OAAW;oBAAC;oBACxG;wBAAE,OAAO;wBAAU,OAAO,aAAa,YAAY,EAAE,cAAc;wBAAK,MAAM,kOAAS;oBAAC;iBACzF;gBAED,4BAA4B;gBAC5B,IAAI,aAAa,eAAe,EAAE;oBAChC,MAAM,OAAO,aAAa,eAAe,CAAC,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,WAAkB,CAAC;4BAC5E,aAAa,SAAS,WAAW,IAAI;4BACrC,WAAW,IAAI,KAAK,SAAS,UAAU,EAAE,cAAc;4BACvD,MAAM,SAAS,MAAM,IAAI;wBAC3B,CAAC;oBACD,cAAc;gBAChB;YACF;YAEA,uCAAuC;YACvC,IAAI,eAAe;gBACjB,QAAQ,IAAI,CAAC,mDAAmD;gBAEhE,oBAAoB;gBACpB,MAAM,EAAE,MAAM,KAAK,EAAE,GAAG,MAAM,iIAAE,CAAC,MAAM,CAAC,SAAS;oBAAE,QAAQ;gBAAK;gBAChE,MAAM,EAAE,MAAM,UAAU,EAAE,GAAG,MAAM,iIAAE,CAAC,MAAM,CAAC,cAAc;oBAAE,QAAQ;gBAAK;gBAC1E,MAAM,EAAE,MAAM,MAAM,EAAE,GAAG,MAAM,iIAAE,CAAC,MAAM,CAAC,UAAU;oBAAE,QAAQ;gBAAK;gBAElE,eAAe;oBACb;wBAAE,OAAO;wBAAgB,OAAO,OAAO,QAAQ,cAAc;wBAAK,MAAM,gNAAK;oBAAC;oBAC9E;wBAAE,OAAO;wBAAmB,OAAO;wBAAK,MAAM,4OAAa;oBAAC;oBAC5D;wBAAE,OAAO;wBAAoB,OAAO,YAAY,QAAQ,cAAc;wBAAK,MAAM,6OAAW;oBAAC;oBAC7F;wBAAE,OAAO;wBAAU,OAAO,QAAQ,QAAQ,cAAc;wBAAK,MAAM,kOAAS;oBAAC;iBAC9E;YACH;YAEA,0BAA0B;YAC1B,MAAM,EAAE,MAAM,SAAS,EAAE,GAAG,MAAM,iIAAE,CAAC,MAAM,CAAC,cAAc;gBACxD,QAAQ;gBACR,OAAO;oBAAE,QAAQ;oBAAc,WAAW;gBAAM;YAClD;YAEA,IAAI,WAAW;gBACb,MAAM,OAAO,UAAU,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,MAAa,CAAC;wBACpD,aAAa,GAAG,IAAI,MAAM,CAAC,IAAI,EAAE,IAAI,UAAU,EAAE;wBACjD,WAAW,IAAI,KAAK,IAAI,UAAU,EAAE,cAAc;wBAClD,MAAM,IAAI,MAAM,CAAC,QAAQ,CAAC,YAAY,YAAY,IAAI,MAAM,CAAC,QAAQ,CAAC,YAAY,UAAU;oBAC9F,CAAC;gBACD,cAAc;YAChB;QAEF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,kCAAkC;QAClD,SAAU;YACR,WAAW;QACb;IACF;IAEA,MAAM,oBAAoB,OAAO;QAC/B,IAAI;YACF,MAAM,WAAW,MAAM,IAAA,2IAAc;YAErC,IAAI,CAAC,YAAY,SAAS,MAAM,KAAK,GAAG;gBACtC,MAAM;gBACN;YACF;YAEA,IAAI,WAAW,OAAO;gBACpB,MAAM,IAAA,wIAAW,EAAC,UAAU;YAC9B,OAAO;gBACL,MAAM,IAAA,0IAAa,EAAC,UAAU;YAChC;QACF,EAAE,OAAO,OAAO;YACd,MAAM,oBAAoB,AAAC,MAAgB,OAAO;QACpD;IACF;IAEA,MAAM,wBAAwB,OAAO;QACnC,IAAI;YACF,MAAM,YAAY,MAAM,IAAA,4IAAe;YAEvC,IAAI,CAAC,aAAa,UAAU,MAAM,KAAK,GAAG;gBACxC,MAAM;gBACN;YACF;YAEA,IAAI,WAAW,OAAO;gBACpB,MAAM,IAAA,wIAAW,EAAC,WAAW;YAC/B,OAAO;gBACL,MAAM,IAAA,0IAAa,EAAC,WAAW;YACjC;QACF,EAAE,OAAO,OAAO;YACd,MAAM,oBAAoB,AAAC,MAAgB,OAAO;QACpD;IACF;IAEA,IAAI,SAAS;QACX,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;;;;;kCACf,6LAAC;wBAAE,WAAU;kCAA6B;;;;;;;;;;;;;;;;;IAIlD;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;;0CACC,6LAAC;gCAAG,WAAU;0CAAsC;;;;;;0CACpD,6LAAC;gCAAE,WAAU;0CAAwB;;;;;;0CACrC,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAI,WAAU;;;;;;kDACf,6LAAC;wCAAK,WAAU;kDAAyB;;;;;;;;;;;;;;;;;;kCAG7C,6LAAC;wBAAI,WAAU;;0CACb,6LAAC,wIAAM;gCAAC,SAAQ;gCAAU,SAAS,IAAM,kBAAkB;;kDACzD,6LAAC,kPAAe;wCAAC,WAAU;;;;;;oCAAiB;;;;;;;0CAG9C,6LAAC,wIAAM;gCAAC,SAAQ;gCAAU,SAAS,IAAM,sBAAsB;;kDAC7D,6LAAC,yNAAQ;wCAAC,WAAU;;;;;;oCAAiB;;;;;;;;;;;;;;;;;;;0BAM3C,6LAAC;gBAAI,WAAU;0BACZ,YAAY,GAAG,CAAC,CAAC,MAAM;oBACtB,MAAM,OAAO,KAAK,IAAI;oBACtB,qBACE,6LAAC,oIAAI;wBAAW,WAAU;kCACxB,cAAA,6LAAC,2IAAW;4BAAC,WAAU;;8CACrB,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;;8DACC,6LAAC;oDAAE,WAAU;8DAAiC,KAAK,KAAK;;;;;;8DACxD,6LAAC;oDAAE,WAAU;8DAA2B,KAAK,KAAK;;;;;;;;;;;;sDAEpD,6LAAC;4CAAK,WAAU;;;;;;;;;;;;8CAGlB,6LAAC;oCAAI,WAAU;8CACb,cAAA,6LAAC;wCAAI,WAAU;;;;;;;;;;;;;;;;;uBAXV;;;;;gBAgBf;;;;;;0BAGF,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,oIAAI;;0CACH,6LAAC,0IAAU;gCAAC,WAAU;;kDACpB,6LAAC;;0DACC,6LAAC,yIAAS;0DAAC;;;;;;0DACX,6LAAC,+IAAe;0DAAC;;;;;;;;;;;;kDAEnB,6LAAC;wCAAI,WAAU;;0DACb,6LAAC;gDAAI,WAAU;;;;;;0DACf,6LAAC;gDAAK,WAAU;0DAAyB;;;;;;;;;;;;;;;;;;0CAG7C,6LAAC,2IAAW;0CACV,cAAA,6LAAC;oCAAI,WAAU;8CACZ,WAAW,MAAM,KAAK,kBACrB,6LAAC;wCAAE,WAAU;kDAAyC;;;;;+CAEtD,WAAW,GAAG,CAAC,CAAC,KAAK,oBACnB,6LAAC;4CAAc,WAAU;;8DACvB,6LAAC;oDAAK,WAAU;8DAAe,IAAI,WAAW;;;;;;8DAC9C,6LAAC;oDAAK,WAAU;8DACb,IAAI,SAAS;;;;;;;2CAHR;;;;;;;;;;;;;;;;;;;;;kCAYpB,6LAAC,oIAAI;;0CACH,6LAAC,0IAAU;;kDACT,6LAAC,yIAAS;kDAAC;;;;;;kDACX,6LAAC,+IAAe;kDAAC;;;;;;;;;;;;0CAEnB,6LAAC,2IAAW;0CACV,cAAA,6LAAC;oCAAI,WAAU;8CACZ;wCACC;4CAAE,OAAO;4CAAc,OAAO;4CAAK,QAAQ;wCAAU;wCACrD;4CAAE,OAAO;4CAAa,OAAO;4CAAK,QAAQ;wCAAS;wCACnD;4CAAE,OAAO;4CAAW,OAAO;4CAAI,QAAQ;wCAAU;qCAClD,CAAC,GAAG,CAAC,CAAC,QAAQ,oBACb,6LAAC;;8DACC,6LAAC;oDAAI,WAAU;;sEACb,6LAAC;4DAAK,WAAU;sEAAuB,OAAO,KAAK;;;;;;sEACnD,6LAAC;4DAAK,WAAU;sEAAwC,OAAO,MAAM;;;;;;;;;;;;8DAEvE,6LAAC;oDAAI,WAAU;8DACb,cAAA,6LAAC;wDACC,WAAU;wDACV,OAAO;4DAAE,OAAO,GAAG,OAAO,KAAK,CAAC,CAAC,CAAC;wDAAC;;;;;;;;;;;;2CAR/B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmB1B;GAxQgB;;QAWQ,+IAAgB;QACZ,mJAAoB;QACxB,wJAAyB;;;KAbjC"}},
    {"offset": {"line": 3555, "column": 0}, "map": {"version":3,"sources":["file:///E:/health-performance-dashboard/app/dashboard/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useAuth } from \"@/lib/auth-context\"\nimport { useRouter } from \"next/navigation\"\nimport { useEffect } from \"react\"\nimport { Sidebar } from \"@/components/sidebar\"\nimport { HospitalDashboard } from \"@/components/dashboards/hospital-dashboard\"\nimport { DistrictDashboard } from \"@/components/dashboards/district-dashboard\"\nimport { StateDashboard } from \"@/components/dashboards/state-dashboard\"\nimport { AdminDashboard } from \"@/components/dashboards/admin-dashboard\"\n\nexport default function DashboardPage() {\n  const { user } = useAuth()\n  const router = useRouter()\n\n  useEffect(() => {\n    if (!user) {\n      router.push(\"/login\")\n    }\n  }, [user, router])\n\n  if (!user) {\n    return null\n  }\n\n  const dashboardComponent = {\n    hospital: <HospitalDashboard />,\n    district: <DistrictDashboard />,\n    state: <StateDashboard />,\n    admin: <AdminDashboard />,\n  }[user.currentRole]\n\n  return (\n    <div className=\"flex flex-col md:flex-row h-screen bg-background\">\n      <Sidebar />\n      <main className=\"flex-1 overflow-auto w-full md:w-auto\">{dashboardComponent}</main>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AATA;;;;;;;;;AAWe,SAAS;;IACtB,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,qIAAO;IACxB,MAAM,SAAS,IAAA,kJAAS;IAExB,IAAA,0KAAS;mCAAC;YACR,IAAI,CAAC,MAAM;gBACT,OAAO,IAAI,CAAC;YACd;QACF;kCAAG;QAAC;QAAM;KAAO;IAEjB,IAAI,CAAC,MAAM;QACT,OAAO;IACT;IAEA,MAAM,qBAAqB;QACzB,wBAAU,6LAAC,0KAAiB;;;;;QAC5B,wBAAU,6LAAC,0KAAiB;;;;;QAC5B,qBAAO,6LAAC,oKAAc;;;;;QACtB,qBAAO,6LAAC,oKAAc;;;;;IACxB,CAAC,CAAC,KAAK,WAAW,CAAC;IAEnB,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC,oIAAO;;;;;0BACR,6LAAC;gBAAK,WAAU;0BAAyC;;;;;;;;;;;;AAG/D;GA3BwB;;QACL,qIAAO;QACT,kJAAS;;;KAFF"}}]
}